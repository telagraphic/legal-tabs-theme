const select=t=>document.querySelector(t),selectAll=t=>document.querySelectorAll(t),tabProduct={setup:function(){this.getTabsTotalCount(),this.updateTabsTotal(),this.updatePaperWeight(),this.updateSizeAndPosition(),this.resetTabForm()},tabInputs:[...selectAll(".product__tabs-form input")],tabForm:select(".product__tabs-form"),priceField:select(".product__price-display"),positionAndSize:select(".product__option-position-size-select"),paperWeight:select(".product__option-paper-weight-select"),formResetButton:select(".product__tabs-form-reset"),totalTabs:0,tabDetails:null,getTabsTotalCount:function(){this.totalTabs=this.tabInputs.reduce((t,e)=>t+this.validateTabInput(e.value),0),console.log("TOTAL TABS #: ",this.totalTabs)},updateTabsTotal:function(){this.tabForm.addEventListener("change",t=>{"INPUT"===t.target.tagName&&(this.getTabsTotalCount(),this.getTabDetails(),this.updatePrice())})},validateTabInput:function(t){return"string"==typeof t&&parseInt(t)>=0?parseInt(t):0===t.length?0:void 0},getTabDetails:function(){let t=[];this.tabInputs.forEach(e=>{let s={};0!==parseInt(e.value)&&(s.tab=e.dataset.tab,s.quantity=e.value,0===s.quantity.length&&(s.quantity=0),t.push(s))}),this.tabDetails=t,console.log(this.tabDetails)},updatePaperWeight:function(){this.paperWeight.addEventListener("change",t=>{this.updatePrice()})},updateSizeAndPosition:function(){this.positionAndSize.addEventListener("change",t=>{this.updatePrice()})},resetTabForm:function(){this.formResetButton.addEventListener("click",t=>{t.preventDefault(),this.tabInputs.forEach(t=>t.value=0),this.totalTabs=0,this.updatePrice()})},tabSpecs:{paperStocks:{eighty:{sizes:{letter:{pounds:.016,thickness:.0065},legal:{pounds:.017,thickness:.0065}}},ninety:{sizes:{letter:{pounds:.017,thickness:.0067},legal:{pounds:.018,thickness:.0067}}},oneten:{sizes:{letter:{pounds:.018,thickness:.007},legal:{pounds:.019,thickness:.007}}}}},pricingTable:{weights:[{name:"eighty",size:{letter:[.25,.12,.08,.06],legal:[.3,.16,.12,.1]}},{name:"ninety",size:{letter:[.27,.14,.1,.08],legal:[.32,.18,.14,.12]}},{name:"oneten",size:{letter:[.29,.17,.13,.11],legal:[.35,.21,.17,.15]}}]},updatePrice:function(){let t=this.calculatePrice();this.priceField.textContent=t},calculatePrice:function(){const t=this.paperWeight.options[this.paperWeight.selectedIndex].dataset.name;let e=this.pricingTable.weights.filter(e=>e.name===t);const s=this.positionAndSize.options[this.positionAndSize.selectedIndex].dataset.value,a=e[0].size[s];let i=0;return i=isNaN(this.totalTabs)||0===this.totalTabs?0:this.totalTabs<=100?parseFloat(parseInt(this.totalTabs)*a[0]).toFixed(2):this.totalTabs<=250?parseFloat(parseInt(this.totalTabs)*a[1]).toFixed(2):this.totalTabs<=500?parseFloat(parseInt(this.totalTabs)*a[2]).toFixed(2):parseFloat(parseInt(this.totalTabs)*a[3]).toFixed(2),console.log("total tabs: ",this.totalTabs),console.log("final price: ",i),i}};tabProduct.setup();